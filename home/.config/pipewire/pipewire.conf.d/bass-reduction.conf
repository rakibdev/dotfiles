context.modules = [
    {
        name = libpipewire-module-filter-chain
        args = {
            node.description = "Bass Reduction"
            media.name       = "Bass Reduction"
            filter.graph = {
                nodes = [
                    {
                        type  = builtin
                        name  = highpass_80
                        label = bq_highpass
                        control = {
                            "Freq" = 80.0
                            "Q"    = 0.707
                        }
                    }
                    {
                        type  = builtin
                        name  = lowshelf_120
                        label = bq_lowshelf
                        control = {
                            "Freq" = 120.0
                            "Q"    = 1.0
                            "Gain" = -18.0 # Gradual reduction
                        }
                    }
                    {
                        type  = builtin
                        name  = lowshelf_200
                        label = bq_lowshelf
                        control = {
                            "Freq" = 200.0
                            "Q"    = 0.8
                            "Gain" = -8.0 # Bass reduction in dB
                        }
                    }
                ]
                links = [
                    { output = "highpass_80:Out" input = "lowshelf_120:In" }
                    { output = "lowshelf_120:Out" input = "lowshelf_200:In" }
                ]
                inputs  = [ "highpass_80:In" ]
                outputs = [ "lowshelf_200:Out" ]
            }
            capture.props = {
                node.name      = "effect_input.bass_reduction"
                media.class    = Audio/Sink
                audio.channels = 2
                audio.position = [ FL FR ]
                node.description = "Bass Reduction Input"
            }
            playback.props = {
                node.name      = "effect_output.bass_reduction"
                node.passive   = true
                audio.channels = 2
                audio.position = [ FL FR ]
                node.description = "Bass Reduction Output"
            }
        }
    }
]
