{
  "$schema": "https://opencode.ai/config.json",
  // "startup_view": "last_chat",
  "tui": {
    "scroll_speed": 20
  },
  "permission": {
    "webfetch": "allow",
    "bash": {
      "*": "allow",
      "rm *": "ask",
      "sudo *": "ask",
      "bun -e *": "ask",
      "git *": "ask",
      "git diff *": "allow",
      "git status *": "allow",
      "git show *": "allow",

      // mongodb skill: allow only read operations
      "*db.*find*": "allow",
      "*db.*count*": "allow",
      "*db.*aggregate*": "allow",
      "*db.*": "ask"
    },
    "external_directory": "allow"
  },
  "keybinds": {
    "input_newline": "alt+enter",
    "session_new": "ctrl+n",
    "messages_last": "ctrl+down",
    "model_list": "ctrl+/"
  },
  "lsp": false,
  "formatter": false,
  "experimental": {
    // fix: Each `tool_use` block must have a corresponding `tool_result`
    // "batch_tool": true
  },
  "plugin": ["opencode-antigravity-auth@1.0.6"],
  "provider": {
    "google": {
      "models": {
        "gemini-3-pro-high": {
          "name": "Gemini 3 Pro High (Antigravity)",
          "limit": {
            "context": 1048576,
            "output": 65535
          },
          "modalities": {
            "input": ["text", "image", "pdf"],
            "output": ["text"]
          }
        },
        "gemini-3-flash": {
          "name": "Gemini 3 Flash (Antigravity)",
          "limit": {
            "context": 1048576,
            "output": 65536
          },
          "modalities": {
            "input": ["text", "image", "pdf"],
            "output": ["text"]
          }
        },
        "claude-sonnet-4-5": {
          "name": "Claude Sonnet 4.5 (Antigravity)",
          "limit": {
            "context": 200000,
            "output": 64000
          },
          "modalities": {
            "input": ["text", "image", "pdf"],
            "output": ["text"]
          }
        },
        "claude-opus-4-5-thinking": {
          "name": "Claude Opus 4.5 Thinking (Antigravity)",
          "limit": {
            "context": 200000,
            "output": 64000
          },
          "modalities": {
            "input": ["text", "image", "pdf"],
            "output": ["text"]
          }
        }
      }
    }
  },
  "agent": {
    "build": {
      "description": "Senior engineer who codes",
      "prompt": "{file:./build.md}",
      "temperature": 0.7
    },
    "explore": {
      "mode": "all",
      "color": "#ff0055",
      "description": "Explore ideas, research codebase and plan approaches.",
      "prompt": "{file:./explore.md}",
      "temperature": 1,
      "tools": {
        "write": false,
        "edit": false
      }
    },

    "plan": {
      "disable": true
    },
    "general": {
      "disable": true
    }
  },
  "tools": {
    "codesearch": false,
    "websearch": false,
    "edit": false // using multiedit
  },
  "mcp": {
    "ssh": {
      "type": "local",
      "command": ["bun", "/home/rakib/Downloads/dotfiles/mcp/ssh.ts"],
      "environment": {
        "SSH_HOST": "{env:SSH_HOST}",
        "SSH_USER": "{env:SSH_USER}",
        "SSH_PASSWORD": "{env:SSH_PASSWORD}"
      }
    }
  },
  "command": {
    "commit": {
      "agent": "build",
      "model": "big-pickle",
      "template": "Stage edited files from current context. Create short generic commit message (lowercase) - describe what was fixed/added, not implementation details like 'move X to Y'. Commit and push. Do all in single command. Skip git status/diff/log commands. Work silently."
    }
  }
}
