{
  "$schema": "https://opencode.ai/config.json",
  // "startup_view": "last_chat",
  "tui": {
    "scroll_speed": 20
  },
  "permission": {
    "external_directory": "allow",
    "edit": "deny", // using multiedit
    // "multiedit": "allow",
    "webfetch": "allow",
    "codesearch": "deny",
    "websearch": "deny",
    "google_search": "deny", // shekohex/opencode-google-antigravity-auth plugin
    "bash": {
      "*": "allow",
      "rm *": "ask",
      "sudo *": "ask",
      "bun -e *": "ask",
      "git *": "ask",
      "git diff *": "allow",
      "git status *": "allow",
      "git show *": "allow",

      // todo: not working. e.g. `echo env`
      "*env*": "ask",

      // mongodb skill: allow only read operations
      "*db.*find*": "allow",
      "*db.*count*": "allow",
      "*db.*aggregate*": "allow",
      "*db.*": "ask"
    }
  },
  "keybinds": {
    "leader": "alt",
    "input_newline": "alt+enter",
    "session_new": "<leader>n",
    "model_list": "<leader>m"
  },
  "lsp": false,
  "formatter": false,
  "experimental": {
    "disable_paste_summary": true
    // fix: Each `tool_use` block must have a corresponding `tool_result`
    // "batch_tool": true
  },
  "provider": {
    "google": {
      "models": {
        "gemini-3-flash": {
          "name": "Gemini 3 Flash (Antigravity)",
          "reasoning": true,
          "limit": { "context": 1048576, "output": 65536 },
          "modalities": { "input": ["text", "image", "pdf"], "output": ["text"] },
          "variants": {
            "minimal": { "options": { "thinkingConfig": { "thinkingLevel": "minimal", "includeThoughts": true } } }
          }
        },
        "gemini-3-pro-preview": {
          "name": "Gemini 3 Pro Low (Antigravity)",
          "reasoning": true,
          "limit": { "context": 1000000, "output": 64000 },
          "modalities": { "input": ["text", "image", "pdf"], "output": ["text"] },
          "variants": {
            "low": { "options": { "thinkingConfig": { "thinkingLevel": "low", "includeThoughts": true } } }
          }
        },
        "gemini-claude-opus-4-5-thinking": {
          "name": "Claude Opus 4.5 (Antigravity)",
          "reasoning": true,
          "limit": { "context": 200000, "output": 64000 },
          "modalities": { "input": ["text", "image", "pdf"], "output": ["text"] },
          "variants": {
            "low": { "options": { "thinkingConfig": { "thinkingBudget": 4000, "includeThoughts": true } } }
          }
        }
      }
    }
  },
  "agent": {
    "build": {
      "description": "Senior engineer who codes",
      "prompt": "{file:./build.md}",
      "temperature": 1
    },
    "explore": {
      "mode": "all",
      "model": "google/gemini-3-flash",
      "color": "#ff0055",
      "description": "Explore ideas, research codebase and plan approaches.",
      "prompt": "{file:./explore.md}",
      "temperature": 1,
      "tools": {
        "edit": false
      }
    },
    "plan": {
      "disable": true
    },
    "general": {
      "disable": true
    }
  },
  "mcp": {
    "ssh": {
      "type": "local",
      "command": ["bun", "/home/rakib/Downloads/dotfiles/mcp/ssh.ts"],
      "environment": {
        "SSH_HOST": "{env:SSH_HOST}",
        "SSH_USER": "{env:SSH_USER}",
        "SSH_PASSWORD": "{env:SSH_PASSWORD}"
      }
    }
  },
  "command": {
    "commit": {
      "agent": "build",
      "model": "big-pickle",
      "template": "Stage edited files from current context. Create short generic commit message (lowercase) - describe what was fixed/added, not implementation details like 'move X to Y'. Commit and push. Do all in single command. Skip git status/diff/log commands. Work silently."
    }
  }
}
